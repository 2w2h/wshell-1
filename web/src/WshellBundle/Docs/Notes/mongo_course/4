### Performance

Для быстрого поиска по определенным полям нужно добавлять на них индекс.

Индекс:
Regular
Sparse
Multikey
Selectivity

индекс можно добавлять как с начала, так и с конца
db.collect.ensureIndex( {'_id':1, 'test':-1} )

Для просмотра существующих индексов можно использовать команду:

db.system.indexes.find()
db.collect.getIndexes()

db.collect.dropIndexes( {'_id':1, 'test':-1} )

Индекс устанавливается как на скаляры, так и на массивы, если найденный
индексированный элемент будет массивом, isMultiKey в explain() будет установлен
в true. Но при этом только одно поле может быть не скаляром.

При установке индекса вторым параметром можно устанавливать параметры:
{'unique':true} - уникальный индекс
{'dropDups':true} - насильно ставит уникальность, т.е. удаляет дубли.
{'sparse':true} - добавление индекс на поле, которое может быть не во всех
документах.

Для поиска только по индексу используется команда hint()
db.people.find().hint( { title : 1 } )

Индексы могут создаваться бекграундом, но это работает медленее.


explain() - Клевая функция для профилирования запросов.
stats() - Клевая функция для просмотра статистики.

Важно не то, сколько занимают данные, а то, сколько занимает индекс.
